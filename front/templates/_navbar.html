{% load socialaccount %}
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom p-0 pb-2 pb-lg-0" style="font-size: 1.2rem;">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'courses:index' %}">
            <h1>Ramos<span class="text-primary">UC</span></h1>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto ms-2 mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" name="menu_home" href="{% url 'courses:index' %}">Inicio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" name="menu_planner" href="{% url 'courses:planner' %}">Planifica</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" name="menu_create" href="{% url 'courses:create' %}">Crea</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" name="menu_browse" href="{% url 'courses:browse' %}">Catálogo</a>
                </li>
                <form action="{% url 'courses:search' %}" class="d-flex ms-0 ms-lg-3">
                    <input name="q" class="form-control me-2" type="search" placeholder="Ramo, sigla o profesor" aria-label="Buscar">
                    <button class="btn btn-outline-secondary" type="submit">Buscar</button>
                </form>
            </ul>

            <ul class="navbar-nav ms-lg-4 mt-2 mt-lg-0">
                <div class="d-flex justify-content-end">
                    {% if user.is_authenticated %}
                    <a class="nav-link me-lg-1 me-3" href="#">{{ user.username }}</a>
                    <a class="btn btn-secondary" style="font-size: 1.2rem;" href="{% url 'account_logout' %}">Salir</a>
                    {% else %}
                    <form method="post" action="{% provider_login_url 'google' %}" class="d-flex justify-content-center w-100 mt-4">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-primary btn-lg w-100 py-3 px-4 rounded-pill shadow-sm">
                            Iniciar sesión con Google
                        </button>
                    </form>
                    {% endif %}
                </div>
            </ul>
        </div>
    </div>
</nav>
